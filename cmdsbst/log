execve("/usr/bin/sh", ["sh", "cs.sh"], 0x7ffce606f360 /* 69 vars */) = 0
brk(NULL)                               = 0x55580647c000
arch_prctl(0x3001 /* ARCH_??? */, 0x7fff3deb2800) = -1 EINVAL (Invalid argument)
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fa8188ee000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=62747, ...}, AT_EMPTY_PATH) = 0
mmap(NULL, 62747, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fa8188de000
close(3)                                = 0
openat(AT_FDCWD, "/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P\237\2\0\0\0\0\0"..., 832) = 832
pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
pread64(3, "\4\0\0\0 \0\0\0\5\0\0\0GNU\0\2\0\0\300\4\0\0\0\3\0\0\0\0\0\0\0"..., 48, 848) = 48
pread64(3, "\4\0\0\0\24\0\0\0\3\0\0\0GNU\0i8\235HZ\227\223\333\350s\360\352,\223\340."..., 68, 896) = 68
newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=2216304, ...}, AT_EMPTY_PATH) = 0
pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
mmap(NULL, 2260560, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7fa8186b6000
mmap(0x7fa8186de000, 1658880, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x28000) = 0x7fa8186de000
mmap(0x7fa818873000, 360448, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1bd000) = 0x7fa818873000
mmap(0x7fa8188cb000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x214000) = 0x7fa8188cb000
mmap(0x7fa8188d1000, 52816, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7fa8188d1000
close(3)                                = 0
mmap(NULL, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fa8186b3000
arch_prctl(ARCH_SET_FS, 0x7fa8186b3740) = 0
set_tid_address(0x7fa8186b3a10)         = 1044648
set_robust_list(0x7fa8186b3a20, 24)     = 0
rseq(0x7fa8186b40e0, 0x20, 0, 0x53053053) = 0
mprotect(0x7fa8188cb000, 16384, PROT_READ) = 0
mprotect(0x555805a08000, 8192, PROT_READ) = 0
mprotect(0x7fa818928000, 8192, PROT_READ) = 0
prlimit64(0, RLIMIT_STACK, NULL, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0
munmap(0x7fa8188de000, 62747)           = 0
getuid()                                = 1000
getgid()                                = 1000
getpid()                                = 1044648
rt_sigaction(SIGCHLD, {sa_handler=0x5558059feaa0, sa_mask=~[RTMIN RT_1], sa_flags=SA_RESTORER, sa_restorer=0x7fa8186f8520}, NULL, 8) = 0
geteuid()                               = 1000
getrandom("\xd2\x7d\x01\xdf\xc9\x31\x8c\x1c", 8, GRND_NONBLOCK) = 8
brk(NULL)                               = 0x55580647c000
brk(0x55580649d000)                     = 0x55580649d000
getppid()                               = 1044645
newfstatat(AT_FDCWD, "/home/ueno/tmp/cmdsbst", {st_mode=S_IFDIR|0775, st_size=4096, ...}, 0) = 0
newfstatat(AT_FDCWD, ".", {st_mode=S_IFDIR|0775, st_size=4096, ...}, 0) = 0
openat(AT_FDCWD, "cs.sh", O_RDONLY)     = 3
fcntl(3, F_DUPFD, 10)                   = 10
close(3)                                = 0
fcntl(10, F_SETFD, FD_CLOEXEC)          = 0
geteuid()                               = 1000
getegid()                               = 1000
rt_sigaction(SIGINT, NULL, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
rt_sigaction(SIGINT, {sa_handler=0x5558059feaa0, sa_mask=~[RTMIN RT_1], sa_flags=SA_RESTORER, sa_restorer=0x7fa8186f8520}, NULL, 8) = 0
rt_sigaction(SIGQUIT, NULL, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
rt_sigaction(SIGQUIT, {sa_handler=SIG_DFL, sa_mask=~[RTMIN RT_1], sa_flags=SA_RESTORER, sa_restorer=0x7fa8186f8520}, NULL, 8) = 0
rt_sigaction(SIGTERM, NULL, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
rt_sigaction(SIGTERM, {sa_handler=SIG_DFL, sa_mask=~[RTMIN RT_1], sa_flags=SA_RESTORER, sa_restorer=0x7fa8186f8520}, NULL, 8) = 0
read(10, "/bin/echo \"current directory $(/"..., 8192) = 42
pipe2([3, 4], 0)                        = 0
clone(child_stack=NULL, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7fa8186b3a10) = 1044649
strace: Process 1044649 attached
[pid 1044648] close(4)                  = 0
[pid 1044648] read(3,  <unfinished ...>
[pid 1044649] set_robust_list(0x7fa8186b3a20, 24) = 0
[pid 1044649] close(10)                 = 0
[pid 1044649] close(3)                  = 0
[pid 1044649] dup2(4, 1)                = 1
[pid 1044649] close(4)                  = 0
[pid 1044649] execve("/bin/pwd", ["/bin/pwd"], 0x55580647d148 /* 69 vars */) = 0
[pid 1044649] brk(NULL)                 = 0x5571206de000
[pid 1044649] arch_prctl(0x3001 /* ARCH_??? */, 0x7ffd9b54e8a0) = -1 EINVAL (Invalid argument)
[pid 1044649] mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f37fe5c3000
[pid 1044649] access("/etc/ld.so.preload", R_OK) = -1 ENOENT (No such file or directory)
[pid 1044649] openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
[pid 1044649] newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=62747, ...}, AT_EMPTY_PATH) = 0
[pid 1044649] mmap(NULL, 62747, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f37fe5b3000
[pid 1044649] close(3)                  = 0
[pid 1044649] openat(AT_FDCWD, "/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
[pid 1044649] read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P\237\2\0\0\0\0\0"..., 832) = 832
[pid 1044649] pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
[pid 1044649] pread64(3, "\4\0\0\0 \0\0\0\5\0\0\0GNU\0\2\0\0\300\4\0\0\0\3\0\0\0\0\0\0\0"..., 48, 848) = 48
[pid 1044649] pread64(3, "\4\0\0\0\24\0\0\0\3\0\0\0GNU\0i8\235HZ\227\223\333\350s\360\352,\223\340."..., 68, 896) = 68
[pid 1044649] newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=2216304, ...}, AT_EMPTY_PATH) = 0
[pid 1044649] pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
[pid 1044649] mmap(NULL, 2260560, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f37fe38b000
[pid 1044649] mmap(0x7f37fe3b3000, 1658880, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x28000) = 0x7f37fe3b3000
[pid 1044649] mmap(0x7f37fe548000, 360448, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1bd000) = 0x7f37fe548000
[pid 1044649] mmap(0x7f37fe5a0000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x214000) = 0x7f37fe5a0000
[pid 1044649] mmap(0x7f37fe5a6000, 52816, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f37fe5a6000
[pid 1044649] close(3)                  = 0
[pid 1044649] mmap(NULL, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f37fe388000
[pid 1044649] arch_prctl(ARCH_SET_FS, 0x7f37fe388740) = 0
[pid 1044649] set_tid_address(0x7f37fe388a10) = 1044649
[pid 1044649] set_robust_list(0x7f37fe388a20, 24) = 0
[pid 1044649] rseq(0x7f37fe3890e0, 0x20, 0, 0x53053053) = 0
[pid 1044649] mprotect(0x7f37fe5a0000, 16384, PROT_READ) = 0
[pid 1044649] mprotect(0x55711e874000, 4096, PROT_READ) = 0
[pid 1044649] mprotect(0x7f37fe5fd000, 8192, PROT_READ) = 0
[pid 1044649] prlimit64(0, RLIMIT_STACK, NULL, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0
[pid 1044649] munmap(0x7f37fe5b3000, 62747) = 0
[pid 1044649] getrandom("\xa6\x93\x1c\xf8\x2a\x81\xba\x98", 8, GRND_NONBLOCK) = 8
[pid 1044649] brk(NULL)                 = 0x5571206de000
[pid 1044649] brk(0x5571206ff000)       = 0x5571206ff000
[pid 1044649] openat(AT_FDCWD, "/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3
[pid 1044649] newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=6784496, ...}, AT_EMPTY_PATH) = 0
[pid 1044649] mmap(NULL, 6784496, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f37fdd0f000
[pid 1044649] close(3)                  = 0
[pid 1044649] getcwd("/home/ueno/tmp/cmdsbst", 4096) = 23
[pid 1044649] newfstatat(1, "", {st_mode=S_IFIFO|0600, st_size=0, ...}, AT_EMPTY_PATH) = 0
[pid 1044649] write(1, "/home/ueno/tmp/cmdsbst\n", 23) = 23
[pid 1044648] <... read resumed>"/home/ueno/tmp/cmdsbst\n", 128) = 23
[pid 1044649] close(1 <unfinished ...>
[pid 1044648] read(3,  <unfinished ...>
[pid 1044649] <... close resumed>)      = 0
[pid 1044648] <... read resumed>"", 128) = 0
[pid 1044649] close(2 <unfinished ...>
[pid 1044648] close(3 <unfinished ...>
[pid 1044649] <... close resumed>)      = 0
[pid 1044648] <... close resumed>)      = 0
[pid 1044649] exit_group(0 <unfinished ...>
[pid 1044648] wait4(-1,  <unfinished ...>
[pid 1044649] <... exit_group resumed>) = ?
[pid 1044649] +++ exited with 0 +++
<... wait4 resumed>[{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 1044649
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=1044649, si_uid=1000, si_status=0, si_utime=0, si_stime=0} ---
rt_sigreturn({mask=[]})                 = 1044649
wait4(-1, 0x7fff3deb22ec, WNOHANG, NULL) = -1 ECHILD (No child processes)
rt_sigprocmask(SIG_SETMASK, ~[RTMIN RT_1], NULL, 8) = 0
vfork(strace: Process 1044650 attached
 <unfinished ...>
[pid 1044650] rt_sigprocmask(SIG_SETMASK, [], ~[KILL STOP RTMIN RT_1], 8) = 0
[pid 1044650] execve("/bin/echo", ["/bin/echo", "current directory /home/ueno/tmp"...], 0x55580647d148 /* 69 vars */ <unfinished ...>
[pid 1044648] <... vfork resumed>)      = 1044650
[pid 1044648] rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
[pid 1044650] <... execve resumed>)     = 0
[pid 1044648] <... rt_sigprocmask resumed>~[KILL STOP RTMIN RT_1], 8) = 0
[pid 1044648] wait4(-1,  <unfinished ...>
[pid 1044650] brk(NULL)                 = 0x5644b338e000
[pid 1044650] arch_prctl(0x3001 /* ARCH_??? */, 0x7ffd88f81bc0) = -1 EINVAL (Invalid argument)
[pid 1044650] mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f203c087000
[pid 1044650] access("/etc/ld.so.preload", R_OK) = -1 ENOENT (No such file or directory)
[pid 1044650] openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
[pid 1044650] newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=62747, ...}, AT_EMPTY_PATH) = 0
[pid 1044650] mmap(NULL, 62747, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f203c077000
[pid 1044650] close(3)                  = 0
[pid 1044650] openat(AT_FDCWD, "/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
[pid 1044650] read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P\237\2\0\0\0\0\0"..., 832) = 832
[pid 1044650] pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
[pid 1044650] pread64(3, "\4\0\0\0 \0\0\0\5\0\0\0GNU\0\2\0\0\300\4\0\0\0\3\0\0\0\0\0\0\0"..., 48, 848) = 48
[pid 1044650] pread64(3, "\4\0\0\0\24\0\0\0\3\0\0\0GNU\0i8\235HZ\227\223\333\350s\360\352,\223\340."..., 68, 896) = 68
[pid 1044650] newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=2216304, ...}, AT_EMPTY_PATH) = 0
[pid 1044650] pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
[pid 1044650] mmap(NULL, 2260560, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f203be4f000
[pid 1044650] mmap(0x7f203be77000, 1658880, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x28000) = 0x7f203be77000
[pid 1044650] mmap(0x7f203c00c000, 360448, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1bd000) = 0x7f203c00c000
[pid 1044650] mmap(0x7f203c064000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x214000) = 0x7f203c064000
[pid 1044650] mmap(0x7f203c06a000, 52816, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f203c06a000
[pid 1044650] close(3)                  = 0
[pid 1044650] mmap(NULL, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f203be4c000
[pid 1044650] arch_prctl(ARCH_SET_FS, 0x7f203be4c740) = 0
[pid 1044650] set_tid_address(0x7f203be4ca10) = 1044650
[pid 1044650] set_robust_list(0x7f203be4ca20, 24) = 0
[pid 1044650] rseq(0x7f203be4d0e0, 0x20, 0, 0x53053053) = 0
[pid 1044650] mprotect(0x7f203c064000, 16384, PROT_READ) = 0
[pid 1044650] mprotect(0x5644b2fd9000, 4096, PROT_READ) = 0
[pid 1044650] mprotect(0x7f203c0c1000, 8192, PROT_READ) = 0
[pid 1044650] prlimit64(0, RLIMIT_STACK, NULL, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0
[pid 1044650] munmap(0x7f203c077000, 62747) = 0
[pid 1044650] getrandom("\x8b\x22\xc1\xca\xc6\x8f\x32\x32", 8, GRND_NONBLOCK) = 8
[pid 1044650] brk(NULL)                 = 0x5644b338e000
[pid 1044650] brk(0x5644b33af000)       = 0x5644b33af000
[pid 1044650] openat(AT_FDCWD, "/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3
[pid 1044650] newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=6784496, ...}, AT_EMPTY_PATH) = 0
[pid 1044650] mmap(NULL, 6784496, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f203b7d3000
[pid 1044650] close(3)                  = 0
[pid 1044650] newfstatat(1, "", {st_mode=S_IFREG|0664, st_size=12785, ...}, AT_EMPTY_PATH) = 0
[pid 1044650] write(1, "current directory /home/ueno/tmp"..., 41current directory /home/ueno/tmp/cmdsbst
) = 41
[pid 1044650] close(1)                  = 0
[pid 1044650] close(2)                  = 0
[pid 1044650] exit_group(0)             = ?
[pid 1044650] +++ exited with 0 +++
<... wait4 resumed>[{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 1044650
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=1044650, si_uid=1000, si_status=0, si_utime=0, si_stime=0} ---
rt_sigreturn({mask=[]})                 = 1044650
wait4(-1, 0x7fff3deb244c, WNOHANG, NULL) = -1 ECHILD (No child processes)
read(10, "", 8192)                      = 0
exit_group(0)                           = ?
+++ exited with 0 +++
